(this["webpackJsonpface-recognition"]=this["webpackJsonpface-recognition"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(29),o=n.n(i),c=(n(35),n(2)),r=n(3),l=n(5),u=n(4),g=(n(36),n(37),n(0)),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){"1"===sessionStorage.getItem("isLogedIn")&&a.login(sessionStorage.getItem("username"),sessionStorage.getItem("password"))},a.updateUsername=function(e){a.setState({username:e.target.value})},a.updatePassword=function(e){a.setState({password:e.target.value})},a.onKeySubmit=function(e){"Enter"===e.key&&a.onSubmit()},a.onSubmit=function(){var e=document.getElementsByClassName("input-field")[0],t=document.getElementsByClassName("input-field")[1],n=document.getElementsByClassName("errorMsg")[0],s=document.getElementsByClassName("errorMsg")[1];0!==e.value.length||n.classList.contains("active")?0!==e.value.length&&n.classList.contains("active")&&n.classList.toggle("active"):n.classList.toggle("active"),0!==t.value.length||s.classList.contains("active")?0!==t.value.length&&s.classList.contains("active")&&s.classList.toggle("active"):s.classList.toggle("active"),0!==e.value.length&&0!==t.value.length&&a.login(e.value,t.value)},a.login=function(e,t){fetch("https://safe-taiga-39517.herokuapp.com/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){"success"===e?a.props.onMasterRouteChange("home"):alert(e)})),sessionStorage.setItem("isLogedIn","1"),sessionStorage.setItem("username",e),sessionStorage.setItem("password",t)},a.state={username:"",password:""},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.onMasterRouteChange;return Object(g.jsx)("div",{className:"login-main main-container",children:Object(g.jsxs)("div",{className:"login-box box-container",children:[Object(g.jsx)("h1",{className:"title",children:"LOGIN"}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("input",{id:"username",type:"tex",placeholder:"Username",onKeyDown:this.onKeySubmit,className:"input-field",onChange:this.updateUsername}),Object(g.jsx)("label",{className:"errorMsg",children:"Invalid email"}),Object(g.jsx)("input",{id:"password",type:"password",placeholder:"Password",onKeyDown:this.onKeySubmit,className:"input-field",onChange:this.updatePassword}),Object(g.jsx)("label",{className:"errorMsg",children:"Invalid password"})]}),Object(g.jsx)("button",{className:"login-button",onClick:this.onSubmit,children:"Login"}),Object(g.jsx)("div",{className:"div-line"}),Object(g.jsxs)("div",{className:"login-page-links",children:[Object(g.jsx)("a",{className:"normal-link",onClick:function(){return e("forgotPass")},children:"Forgot password ?"}),Object(g.jsx)("a",{className:"normal-link",onClick:function(){return e("register")},children:"New user ?"})]})]})})}}]),n}(s.a.Component),d=(n(39),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).updateEmail=function(e){a.setState({email:e.target.value})},a.updateUsername=function(e){a.setState({username:e.target.value})},a.updatePassword=function(e){a.setState({password:e.target.value})},a.onKeyEnter=function(e){"Enter"===e.key&&a.onSubmit()},a.onSubmit=function(){var e=document.getElementsByClassName("input-field")[0],t=document.getElementsByClassName("input-field")[1],n=document.getElementsByClassName("input-field")[2],s=document.getElementsByClassName("errorMsg")[0],i=document.getElementsByClassName("errorMsg")[1],o=document.getElementsByClassName("errorMsg")[2];0!==e.value.length||s.classList.contains("active")?0!=e.value.length&&s.classList.contains("active")&&s.classList.toggle("active"):s.classList.toggle("active"),0!==n.value.length||a.validateUsername(n.value)||o.classList.contains("active")?0!==n.value.length&&a.validateUsername(n.value)&&o.classList.contains("active")&&o.classList.toggle("active"):o.classList.toggle("active"),0!==t.value.length||i.classList.contains("active")?0!==t.value.length&&i.classList.contains("active")&&i.classList.toggle("active"):i.classList.toggle("active"),0!==e.value.length&&0!==n.value.length&&0!==t.value.length&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value)&&(console.log(a.state),fetch("https://safe-taiga-39517.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,email:a.state.email,password:a.state.password})}).then((function(e){return e.json()})).then((function(e){"success"===e?a.props.onMasterRouteChange("login"):alert("Cant register, try again")})))},a.validateEmail=function(e){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))return!1},a.validateUsername=function(e){return/^[a-z0-9_\.]+$/.exec(e)},a.state={email:"",username:"",password:""},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.onMasterRouteChange;return Object(g.jsx)("div",{className:"reg-main main-container",children:Object(g.jsxs)("div",{className:"reg-box box-container",children:[Object(g.jsx)("div",{className:"title",children:"REGISTER"}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("input",{type:"tex",placeholder:"Email",className:"input-field",onChange:this.updateEmail,onKeyDown:this.onKeyEnter}),Object(g.jsx)("label",{className:"errorMsg",children:"Invalid email"}),Object(g.jsx)("input",{type:"tex",placeholder:"Username",className:"input-field",onChange:this.updateUsername,onKeyDown:this.onKeyEnter}),Object(g.jsx)("label",{className:"errorMsg",children:"Invalid username"}),Object(g.jsx)("input",{type:"password",placeholder:"Password",className:"input-field",onChange:this.updatePassword,onKeyDown:this.onKeyEnter}),Object(g.jsx)("label",{className:"errorMsg",children:"Invalid password"})]}),Object(g.jsx)("button",{className:"reg-button",onClick:this.onSubmit,children:"Register"}),Object(g.jsx)("div",{className:"div-line"}),Object(g.jsx)("div",{className:"reg-page-links",children:Object(g.jsx)("a",{className:"normal-link",onClick:function(){return e("login")},children:"already have an account ?"})})]})})}}]),n}(s.a.Component)),m=(n(40),n(41),n(42),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).toggleMenu=function(){var e=document.getElementsByClassName("navbar-links")[0],t=document.getElementsByTagName("nav")[0];e.classList.toggle("active"),t.classList.toggle("active")},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.changeRoute,n=e.onMasterRouteChange;return Object(g.jsx)("div",{className:"home-nav",children:Object(g.jsxs)("nav",{children:[Object(g.jsx)("div",{className:"title",children:"Faceiotic"}),Object(g.jsxs)("a",{onClick:this.toggleMenu,className:"toggle-button",children:[Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("span",{className:"bar"})]}),Object(g.jsx)("div",{className:"navbar-links",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)("a",{onClick:function(){return t("desc")},children:"Description"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{onClick:function(){return t("form")},children:"Face Recognition"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{onClick:function(){return n("login")},children:"Sign out"})})]})})]})})}}]),n}(s.a.Component)),j=(n(43),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.changeRoute;return Object(g.jsxs)("div",{className:"desc-main",children:[Object(g.jsx)("h1",{children:"Welcome,"}),Object(g.jsxs)("h3",{children:["in this webapp you can add picture throgh a link and the AI will detect human face in it. ",Object(g.jsx)("a",{className:"normal-link",onClick:function(){return e("form")},children:"Try out !"})]})]})}}]),n}(s.a.Component)),b=(n(44),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onFindButton,n=e.onImageLinkChange;return Object(g.jsxs)("div",{className:"hf-main",children:[Object(g.jsx)("input",{type:"tex",placeholder:"Image Link",className:"input-field",onChange:n}),Object(g.jsx)("button",{onClick:t,children:"Find"})]})}}]),n}(s.a.Component)),p=(n(45),function(e){var t=e.imageLink,n=e.box;return Object(g.jsx)("div",{className:"image-container",children:Object(g.jsxs)("div",{className:"image-child-container",children:[Object(g.jsx)("img",{id:"inputImage",alt:"",src:t}),Object(g.jsx)("div",{className:"bounding-box",style:{top:n.topRow,right:n.rightCol,bottom:n.bottomRow,left:n.leftCol}})]})})}),v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).changeRoute=function(e){a.setState({route:e})},a.state={route:""},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onMasterRouteChange,n=e.onFindButton,a=e.onImageLinkChange,s=e.imageLink,i=e.box;return Object(g.jsxs)("div",{className:"home-main",children:[Object(g.jsx)(m,{changeRoute:this.changeRoute,onMasterRouteChange:t}),"form"===this.state.route?Object(g.jsxs)("div",{children:[Object(g.jsx)(b,{onFindButton:n,onImageLinkChange:a}),Object(g.jsx)(p,{imageLink:s,box:i})]}):(this.state.route,Object(g.jsx)(j,{changeRoute:this.changeRoute}))]})}}]),n}(s.a.Component),f=n(30),O=new(n.n(f).a.App)({apiKey:"aae743fe00c6408ebcb6a7465d07cf2e"}),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onMasterRouteChange=function(e){"login"===e&&sessionStorage.setItem("isLogedIn","0"),a.setState({route:e})},a.onImageLinkChange=function(e){a.setState({imageLink:e.target.value})},a.calculateFaceData=function(e){var t=e.outputs[0].data.regions[0].region_info.bounding_box,n=document.getElementById("inputImage"),a=Number(n.width),s=Number(n.height);return{leftCol:t.left_col*a+10,topRow:t.top_row*s-10,rightCol:a-t.right_col*a,bottomRow:s-t.bottom_row*s}},a.displayFaceBox=function(e){console.log(e),a.setState({box:e})},a.onFindButton=function(){O.models.predict("a403429f2ddf4b49b307e318f00e528b",a.state.imageLink).then((function(e){return a.displayFaceBox(a.calculateFaceData(e))})).catch((function(e){return alert(e)}))},a.state={route:"login",imageLink:"",box:{}},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:"login"===this.state.route?Object(g.jsx)(h,{onMasterRouteChange:this.onMasterRouteChange}):"register"===this.state.route?Object(g.jsx)(d,{onMasterRouteChange:this.onMasterRouteChange}):"home"===this.state.route?Object(g.jsx)(v,{onMasterRouteChange:this.onMasterRouteChange,onFindButton:this.onFindButton,onImageLinkChange:this.onImageLinkChange,imageLink:this.state.imageLink,box:this.state.box}):Object(g.jsx)(h,{onMasterRouteChange:this.onMasterRouteChange})})}}]),n}(s.a.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),i(e),o(e)}))};o.a.render(Object(g.jsxs)(s.a.StrictMode,{children:[Object(g.jsx)(x,{}),Object(g.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Monoton&display=swap",rel:"stylesheet"}),Object(g.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600&display=swap",rel:"stylesheet"}),Object(g.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),document.getElementById("root")),C()}},[[85,1,2]]]);
//# sourceMappingURL=main.4d459d9f.chunk.js.map